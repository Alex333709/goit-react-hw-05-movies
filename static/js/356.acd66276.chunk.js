"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[356],{356:function(e,t,n){n.r(t);var c=n(439),r=n(791),o=n(689),a=n(87),i=n(697),u=n(184);t.default=function(){var e=(0,o.TH)(),t=(0,o.s0)(),n=(0,r.useState)(""),s=(0,c.Z)(n,2),h=s[0],f=s[1],l=(0,r.useState)([]),d=(0,c.Z)(l,2),v=d[0],p=d[1],m=new URLSearchParams(e.search).get("query");(0,r.useEffect)((function(){m&&f(m)}),[m]),(0,r.useEffect)((function(){m?h.length>=3&&i.Z.fetchSearchMovie(m).then((function(e){return p(e)})).catch((function(){p([])})):p([])}),[m,h]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t("/movies?query=".concat(h))},children:[(0,u.jsx)("input",{type:"text",autoComplete:"on",autoFocus:!0,placeholder:"Search movies",value:h,onChange:function(e){f(e.target.value)}}),(0,u.jsx)("button",{type:"submit",children:(0,u.jsx)("span",{children:"Search"})})]}),0===v.length&&h&&h.length>=3&&(0,u.jsx)("p",{children:"No movies found."}),v.length>0&&(0,u.jsx)("ul",{children:v.map((function(e){var t=e.id,n=e.title;return(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:"/movies/".concat(t,"?query=").concat(h),children:n})},t)}))})]})}},697:function(e,t,n){var c=n(243),r="https://api.themoviedb.org/3",o="c9b08f524057dbce5849a7bccd964443",a={fetchTrendingMoviesByDay:function(){return c.Z.get("".concat(r,"/trending/movie/day?api_key=").concat(o)).then((function(e){return e.data.results})).catch((function(e){console.error("There was an error:",e)}))},fetchSearchMovie:function(e){return c.Z.get("".concat(r,"/search/movie?api_key=").concat(o,"&page=1&include_adult=false&query=").concat(e)).then((function(e){return e.data.results})).catch((function(e){console.error("There was an error:",e)}))},fetchMoviesById:function(e){return c.Z.get("".concat(r,"/movie/").concat(e,"?api_key=").concat(o)).then((function(e){return e.data})).catch((function(e){console.error("There was an error:",e)}))},fetchMovieCast:function(e){return c.Z.get("".concat(r,"/movie/").concat(e,"/credits?api_key=").concat(o)).then((function(e){return e.data})).catch((function(e){console.error("There was an error:",e)}))},fetchMovieReviews:function(e){return c.Z.get("".concat(r,"/movie/").concat(e,"/reviews?api_key=").concat(o)).then((function(e){return e.data})).catch((function(e){console.error("There was an error:",e)}))}};t.Z=a}}]);
//# sourceMappingURL=356.acd66276.chunk.js.map