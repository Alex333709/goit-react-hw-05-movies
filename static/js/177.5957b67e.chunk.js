"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[177],{177:function(t,e,n){n.r(e);var c=n(439),a=n(791),r=n(689),o=n(697),u=n(184);e.default=function(){var t=(0,r.TH)(),e=(0,r.s0)(),n=(0,a.useState)(""),i=(0,c.Z)(n,2),h=i[0],f=i[1],s=(0,a.useState)([]),l=(0,c.Z)(s,2),d=l[0],v=l[1],p=new URLSearchParams(t.search).get("query");(0,a.useEffect)((function(){p&&f(p)}),[p]),(0,a.useEffect)((function(){p?h.length>=3&&o.Z.fetchSearchMovie(p).then((function(t){return v(t)})).catch((function(){v([])})):v([])}),[p,h]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e("/movies?query=".concat(h))},children:[(0,u.jsx)("input",{type:"text",autoComplete:"on",autoFocus:!0,placeholder:"Search movies",value:h,onChange:function(t){f(t.target.value)}}),(0,u.jsx)("button",{type:"submit",children:(0,u.jsx)("span",{children:"Search"})})]}),0===d.length&&h&&h.length>=3&&(0,u.jsx)("p",{children:"No movies found."}),d.length>0&&(0,u.jsx)("ul",{children:d.map((function(t){var e=t.id,n=t.title;return(0,u.jsx)("li",{children:(0,u.jsx)("a",{href:"/movies/".concat(e,"?query=").concat(h),children:n})},e)}))})]})}},697:function(t,e,n){var c=n(243),a="https://api.themoviedb.org/3",r="c9b08f524057dbce5849a7bccd964443",o={fetchTrendingMoviesByDay:function(){return c.Z.get("".concat(a,"/trending/movie/day?api_key=").concat(r)).then((function(t){return t.data.results})).catch((function(t){return t}))},fetchSearchMovie:function(t){return c.Z.get("".concat(a,"/search/movie?api_key=").concat(r,"&page=1&include_adult=false&query=").concat(t)).then((function(t){return t.data.results})).catch((function(t){return t}))},fetchMoviesById:function(t){return c.Z.get("".concat(a,"/movie/").concat(t,"?api_key=").concat(r)).then((function(t){return t.data})).catch((function(t){return t}))},fetchMovieCast:function(t){return c.Z.get("".concat(a,"/movie/").concat(t,"/credits?api_key=").concat(r)).then((function(t){return t.data})).catch((function(t){return t}))},fetchMovieReviews:function(t){return c.Z.get("".concat(a,"/movie/").concat(t,"/reviews?api_key=").concat(r)).then((function(t){return t.data})).catch((function(t){return t}))}};e.Z=o}}]);
//# sourceMappingURL=177.5957b67e.chunk.js.map